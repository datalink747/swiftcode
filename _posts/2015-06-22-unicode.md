---
layout: post
title:  "L'Unicode"
date:   2015-06-22 10:01:54
categories: ['Les cha√Ænes']
author: Guillaume L.
comments: True
permalink: /unicode-swift/
---

<div class="swift3">
	<p>Vous √™tes dans un nouveau chapitre. Traduit directement depuis la derni√®re version en date de la documentation officielle de <em>Swift 2</em>.</p>
</div>

**L'Unicode est un standard internationnal de l'encodage dans diff√©rents syst√®mes d'√©criture. Il vous autorise √† utiliser pratiquement tous les caract√®res depuis n'importe quelle langue dans une forme standardis√©e, et √† lire et √©crire ces caract√®res, pour et depuis, une source externe, comme un fichier texte ou une page web.**

Les cha√Ænes et les caract√®res en *Swift* sont totalement comformes avec l'*Unicode*, comme nous allons le voir dans cette section.

## Les valeurs scalaires en Unicode

Dans les rouages du langage, le type `String` natif de *Swift* a √©t√© construit depuis les valeurs de l'*Unicode scalaire*. Un scalaire Unicode est un nombre unique √©crit en *21-bits* et qui correspond √† un seul caract√®re √† la fois, comme par exemple `U+0061` pour `LATIN MINUSCULE A` ("a"), ou `U+1F425` pour `POUSSIN DE FACE` ("üê•").

>**Note :** Les scalaires Unicode sont compris entre `U+0000` et `U+D7FF` inclus ou `U+E000` et `U+10FFFF` inclus. Ils ne sont en revanche pas inclus entre `U+D800` et `U+DFFF` inclus.

Notez que tout les scalaires Unicode 21-bits n'ont pas forc√©ment de caract√®res assign√©s, et certains sont r√©serv√©s pour de futurs assignements. Les scalaires qui ont √©t√© assign√©s √† un caract√®re on aussi un nom comme dans l'exemple vu ci-dessus.

## Les caract√®res sp√©ciaux dans les cha√Ænes

Les cha√Ænes de caract√®res peuvent inclure les caract√®res sp√©ciaux suivants :

- Les caract√®res d'√©chappement sp√©ciaux `\0` (caract√®re vide), `\\` (anti-slash), `\t` (tabulation horizontale), `\n` (retour √† la ligne), `\r` (retour chariot), `\"` (guillemet double), `\'` (guillemet simple)
- Un scalaire *Unicode* arbitraire, √©crit `\u{n}`, o√π `n` est un nombre hexadecimal compos√© de 1 √† 8 chiffres avec une valeur *Unicode* valide.

Le code ci-dessous montre 4 exemples avec ce type de caract√®res sp√©ciaux. La constante `citation` contient deux caract√®res d'√©chappement afin d'y inclure des guillemets doubles. Les trois constantes suivantes int√®grent un scalaire au format *Unicode* :

{% highlight swift linenos %}
let citation = "\" L'imagination est plus importante que la connaissance\" - Einstein"
// "L'imagination est plus importante que la connaissance" - Einstein
let symboleDollar = "\u{24}"
// $, scalaire Unicode U+0024
let coeurNoir = "\u{2665}"
// ‚ô•, scalaire Unicode U+2665
let simleyCoeur = "\u{1F496}"
// üíñ, scalaire Unicode U+1F496
{% endhighlight swift linenos %}

## Les combinaisons Unicode

Dans *Swift*, chaque caract√®re repr√©sente une combinaison *Unicode* unique. Les combinaisons *Unicode* sont des s√©quences d'un ou plusieurs *scalaire(s) Unicode*, qui, lorsqu'ils sont combin√©s forment un caract√®re lisible pour l'homme.

Voici un exemple. La lettre `√©` est repr√©sent√©e par le *scalaire Unicode* `√©` (`LATIN MINUSCULE E AVEC ACCENT`, ou `U+00E9`). Cependant la m√™me lettre peut aussi √™tre repr√©sent√©e avec une paire de scalaires : la lettre standard `e` (`LATIN MINUSCULE E`, ou `U+0065`), suivie de l'accent (`U+0301`). La combinaison est graphiquement appliqu√©e au scalaire pr√©c√©dent, faisant ainsi de notre `e` standard un `√©` avec accent, lorsque le rendu syst√®me est appliqu√©.

Dans les deux cas, la lettre `√©` est repr√©sent√©e comme une valeur unique de type `Character`, c'est √† dire une combinaison *Unicode*. Dans le premier cas, la combinaison ne contient qu'un seul scalaire; dans le second cas, la combinaison en contient deux :

{% highlight swift linenos %}
let eAccent: Character = "\u{E9}"
// √©
let eCombinaison: Character = "\u{65}\u{301}"
// e suivi de ¬¥
// eAccent vaut √©, eCombinaison vaut aussi √©
{% endhighlight swift linenos %}

Les combinaisons Unicode sont une fa√ßon plus flexible de repr√©senter tout un tas de caract√®res complexes sans d√©border de la valeur `Character`. Par exemple, les syllables de l'alphabet Cor√©en peuvent √™tre repr√©sent√©e de plusieurs s√©quences recompos√©es ou d√©compos√©es. Dans les cas, ces repr√©sentations n'occuperont en m√©moire que la place d'un seul caract√®re avec le langage *Swift* :

{% highlight swift linenos %}
let reCompose: Character = "\u{D55C}"
// Ìïú
let deCompose: Character = "\u{1112}\u{1161}\u{11AB}"
// ·Ñí, ·Ö°, ·Ü´
{% endhighlight swift linenos %}

Il est possible de cr√©er vos propres combinaisons *Unicode* avec certains scalaires (comme par exemple le `CERCLE D'ENTOURAGE COMBIN√â`, ou `U+20DD`), pour obtenir une nouvelle valeur de type `Character` :

{% highlight swift linenos %}
let eAccentCercle: Character = "\u{E9}\u{20DD}"
// eAccentCercle vaut maintenant ‚Éù √©
{% endhighlight swift linenos %}

Les scalaires *Unicode* pour les indicateurs r√©gionaux sont la combinaison d'une paire de deux valeurs simples de type `Character`, comme la combinaison de `SYMBOL INDICATEUR REGIONNAL U (U+1F1FA)` et `SYMBOL INDICATEUR REGIONNAL S (U+1F1F8)` :

{% highlight swift linenos %}
let regionnalUS: Character = "\u{1F1FA}\u{1F1F8}"
// e suivi de ¬¥
// regionnalUS vaut maintenant üá∫üá∏
{% endhighlight swift linenos %}
